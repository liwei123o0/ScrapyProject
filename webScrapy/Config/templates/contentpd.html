{% extends "base.html" %}
{% block from %}
    <form action="/testcontentpd/" method="POST" name="form">
    {% csrf_token %}
    <div class="row">
        <div class="col-md-3">
            <div class="input-group input-group-lg">
                <span class="input-group-addon" id="sizing-addon1">网站类型:</span>
                <select class="form-control"  name="webtype">
                    <option >新闻</option>
                    <option >论坛</option>
                    <option >电子报</option>
                    <option >博客</option>
                    <option >贴吧</option>
                    <option >微博</option>
                    <option >微信</option>
                </select>
            </div>
        </div>
         <div class="col-md-3">
            <div class="input-group input-group-lg">
                <span class="input-group-addon" id="sizing-addon1" >模版特征:</span>
                <input type="text" class="form-control" placeholder="templatesURL" aria-describedby="sizing-addon1" name="url">
            </div>
         </div>
        <div class="col-md-3">
            <div class="input-group input-group-lg">
                <span class="input-group-addon" id="sizing-addon1">域名:</span>
                <input type="text" class="form-control" placeholder="baidu.com(多个之间用“,”隔开)" aria-describedby="sizing-addon1" name="domains">
            </div>
        </div>
        <div class="col-md-3">
            <div class="input-group input-group-lg">
                <span class="input-group-addon" id="sizing-addon1">模板作者:</span>
                <input type="text" class="form-control" placeholder="模板作者" aria-describedby="sizing-addon1" name="author">
            </div>
        </div>
    </div>
    <br>
    <div class="row">
        <div class="col-md-3">
            <div class="input-group input-group-lg">
                <span class="input-group-addon" id="sizing-addon1" >数据库地址:</span>
                <input type="text" class="form-control" placeholder="http://127.0.0.1" aria-describedby="sizing-addon1" name="mysql">
            </div>
        </div>
        <div class="col-md-3">
            <div class="input-group input-group-lg">
                <span class="input-group-addon" id="sizing-addon1" >数据库端口号:</span>
                <input type="text" class="form-control" placeholder="3306" aria-describedby="sizing-addon1" name="prot">
            </div>
        </div>
        <div class="col-md-3">
            <div class="input-group input-group-lg">
                <span class="input-group-addon" id="sizing-addon1">用户名:</span>
                <input type="text" class="form-control" placeholder="root" aria-describedby="sizing-addon1" name="username">
            </div>
        </div>
        <div class="col-md-3">
            <div class="input-group input-group-lg">
                <span class="input-group-addon" id="sizing-addon1">密码:</span>
                <input type="password" class="form-control" placeholder="passwd" aria-describedby="sizing-addon1" name="passwd">
            </div>
        </div>
    </div>
    <br>
    <div class="row">
        <div class="col-md-3">
            <div class="input-group input-group-lg">
                <span class="input-group-addon" id="sizing-addon1" >库名:</span>
                <input type="text" class="form-control" placeholder="database" aria-describedby="sizing-addon1" name="database">
            </div>
        </div>
        <div class="col-md-3">
            <div class="input-group input-group-lg">
                <span class="input-group-addon" id="sizing-addon1" >表明:</span>
                <input type="text" class="form-control" placeholder="table" aria-describedby="sizing-addon1" name="table">
            </div>
        </div>
    </div>
    <br>
    <div class="row">
        <div class="col-md-12">
            <div class="panel panel-default">
                <div class="panel panel-primary">
                    <div class="panel-heading">配置规则</div>
                    <div class="panel-body">
                        <div class="input-group input-group-lg">
                            <span class="input-group-addon" id="sizing-addon1">URL:</span>
                            <span class="input-group-addon">
                                <select class="form-control" style="width: 100px" name="select_url">
                                    <option >xpath</option>
                                    <option >css</option>
                                </select>
                            </span>
                            <input type="text" style="height: 56px" class="form-control" placeholder="检索表达式" aria-describedby="sizing-addon1" name="url_xpath">
                            <span class="input-group-addon" id="sizing-addon1">正则</span>
                            <input type="text" style="height: 56px" class="form-control" placeholder="正则表达式" aria-describedby="sizing-addon1" name="url_regex">
                                <span class="input-group-addon">
                                    <div class="btn-group" role="group" aria-label="">
                                        <button type="button" class="btn btn-default" onclick="url_test()">检测</button>
                                    </div>
                                </span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-3">
            <div class="btn-group" role="group" aria-label="">
                <button type="button" class="btn btn-default" onclick="testpd()">测试运行</button>
                <button type="button" class="btn btn-default" onclick="runpd()">提交</button>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <div class="panel panel-default">
                <div class="panel panel-primary">
                    <div class="panel-heading">结果</div>
                    <div class="panel-body" style="height: auto">
                        {#Jinja2参数#}
                        <h1>Web URL:{{ webtype }}</h1>
                        <h1>url:{{ url }}</h1>
                        <h1>domains:{{ domains }}</h1>
                        <h1>author:{{ author }}</h1>
                        <h1>mysql:{{ mysql }}</h1>
                        <h1>prot:{{ prot }}</h1>
                        <h1>username:{{ username }}</h1>
                        <h1>passwd:{{ passwd }}</h1>
                        <h1>database:{{ database }}</h1>
                        <h1>table:{{ table }}</h1>
                        <h1>url_xpath:{{ url_xpath }}</h1>
                        <h1>url_regex:{{ url_regex }}</h1>
                        <h1>select_url:{{ select_url }}</h1>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </form>
{% endblock %}
{% block javascript %}
<script>
        function testpd(){
            document.form.action="/testcontentpd/";
            document.form.submit();
        }
        function runpd(){
            document.form.action="/runcontentpd/";
            document.form.submit();
        }
        function url_test(){
            document.form.action="/testcontentpd/";
            document.form.submit();
        }
    </script>
{% endblock %}